webpackJsonp([0],{"09bq":function(t,e,s){"use strict";s.d(e,"a",function(){return i}),s.d(e,"b",function(){return n});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-text-field",{attrs:{label:"Title",rules:t.titleRules,required:"",autofocus:""},model:{value:t.editedPost.title,callback:function(e){t.$set(t.editedPost,"title",e)},expression:"editedPost.title"}}),s("p",[t._v("Tags")]),s("TheInputTags",{model:{value:t.editedPost.tags,callback:function(e){t.$set(t.editedPost,"tags",e)},expression:"editedPost.tags"}}),s("p",{staticClass:"mt-3"},[t._v("Preview Text")]),s("no-ssr",[s("codemirror",{staticClass:"mt-3",attrs:{options:t.cmOptions},model:{value:t.editedPost.previewText,callback:function(e){t.$set(t.editedPost,"previewText",e)},expression:"editedPost.previewText"}})],1),s("p",{staticClass:"mt-3"},[t._v("Preview Preview Text")]),s("PostsPostPreview",{attrs:{id:t.editedPost.id,"is-admin":"",title:t.editedPost.title,lastUpdateTime:t.editedPost.lastUpdateTime,previewText:t.editedPost.previewText,tags:t.editedPost.tags}}),s("p",{staticClass:"mt-3"},[t._v("Content")]),s("no-ssr",[s("codemirror",{staticClass:"mt-3",attrs:{options:t.cmOptions},model:{value:t.editedPost.content,callback:function(e){t.$set(t.editedPost,"content",e)},expression:"editedPost.content"}})],1),s("p",{staticClass:"mt-3"},[t._v("Preview Content")]),s("PostsPostMarkdown",{attrs:{"markdown-text":t.$md.render(t.editedPost.content)}}),s("v-btn",{attrs:{disabled:!t.valid},on:{click:t.submit}},[t._v("submit")]),s("v-btn",{on:{click:t.cancel}},[t._v("cancel")])],1)},n=[];i._withStripped=!0},B59Y:function(t,e,s){"use strict";var i=s("Dd8w"),n=s.n(i),o=s("rY7F"),a=s.n(o),r=s("iDX9");e.a={layout:"admin",middleware:["check-auth","auth"],components:{AdminPostForm:r.a},asyncData:function(t){return t.app.$axios.$get("posts/"+t.params.postId).then(function(e){return{loadedPost:n()({id:t.params.postId},a()(e.fields))}}).catch(function(e){return t.error()})},methods:{onSubmitted:function(t){var e=this;this.$store.dispatch("editPost",t).then(function(){e.$router.push("/admin")})}}}},WMG9:function(t,e,s){"use strict";var i=s("Dd8w"),n=s.n(i);e.a={props:{post:{type:Object,required:!1}},data:function(){return{editedPost:this.post?n()({},this.post):{title:"",tags:[],previewText:"",content:"",lastUpdateTime:Date.now(),postTime:Date.now()},valid:!0,titleRules:[function(t){return!!t||"Title is required"}],cmOptions:{tabSize:4,mode:"markdown",theme:"monokai",lineNumbers:!0,lineWrapping:!0}}},methods:{submit:function(){this.$refs.form.validate()&&this.$emit("submit",this.editedPost)},cancel:function(){this.$router.push("/admin")}}}},XzGO:function(t,e,s){"use strict";var i=s("WMG9"),n=s("09bq"),o=s("XyMi"),a=Object(o.a)(i.a,n.a,n.b,!1,null,null,null);a.options.__file="components\\AdminPostForm\\AdminPostForm.vue",e.a=a.exports},"a/oJ":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("B59Y"),n=s("u9/b"),o=s("XyMi"),a=Object(o.a)(i.a,n.a,n.b,!1,null,null,null);a.options.__file="pages\\admin\\_postId\\index.vue",e.default=a.exports},iDX9:function(t,e,s){"use strict";var i=s("XzGO");s.d(e,"a",function(){return i.a})},rY7F:function(t,e){function s(t){const e={},s=Object.keys(t);for(let n=0,o=s.length;n<o;n++){const o=s[n];e[o]=i(t[o])}return e}function i(t){const e=Object.keys(t)[0];switch(e){case"geoPointValue":return[t.geoPointValue.latitude,t.geoPointValue.longitude];case"arrayValue":return t.arrayValue.values.map(i);case"mapValue":return s(t.mapValue.fields);case"integerValue":case"doubleValue":return Number(t[e]);default:return t[e]}}t.exports=s},"u9/b":function(t,e,s){"use strict";s.d(e,"a",function(){return i}),s.d(e,"b",function(){return n});var i=function(){var t=this.$createElement,e=this._self._c||t;return e("v-container",[e("v-layout",{attrs:{column:""}},[e("v-flex",{attrs:{xs12:"",sm10:"","offset-sm1":"",lg8:"","offset-lg2":""}},[e("h1",{staticClass:"heading mb-3 text-xs-center"},[this._v("Edit Post")]),e("AdminPostForm",{staticClass:"mt-3",attrs:{post:this.loadedPost},on:{submit:this.onSubmitted}})],1)],1)],1)},n=[];i._withStripped=!0}});